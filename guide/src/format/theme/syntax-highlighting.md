# Syntax Highlighting

mdBook uses [syntect](https://docs.rs/syntect/4.6.0/syntect/) with a custom theme
for syntax highlighting.

Automatic language detection has been turned off, so you will probably want to
specify the programming language you use like this:

~~~markdown
```rust
fn main() {
    // Some code
}
```
~~~

## Supported languages

These languages are supported by default, but you can add more by supplying
your own `.sublime-syntax` file:

<!-- this list is generated by running `cargo run -- gen-syntax-cache --syntaxes-only` -->
<!-- which outputs a list of names -->

 Name | Extensions
 -----|-----------
 Plain Text | txt
 ASP | asa
 HTML (ASP) | asp
 ActionScript | as
 AppleScript | applescript script editor
 Batch File | bat cmd
 NAnt Build File | build
 C# | cs csx
 C++ | cpp cc cp cxx c++ C h hh hpp hxx h++ inl ipp
 C | c h
 CSS | css css.erb css.liquid
 Clojure | clj
 D | d di
 Diff | diff patch
 Erlang | erl hrl Emakefile emakefile
 HTML (Erlang) | yaws
 Go | go
 Graphviz (DOT) | dot DOT gv
 Groovy | groovy gvy gradle
 HTML | html htm shtml xhtml inc tmpl tpl
 Haskell | hs
 Literate Haskell | lhs
 Java Server Page (JSP) | jsp
 Java | java bsh
 JavaDoc | 
 Java Properties | properties
 JSON | json sublime-settings sublime-menu sublime-keymap sublime-mousemap sublime-theme sublime-build sublime-project sublime-completions sublime-commands sublime-macro sublime-color-scheme
 JavaScript | js htc
 Regular Expressions (Javascript) | 
 BibTeX | bib
 LaTeX Log | 
 LaTeX | tex ltx
 TeX | sty cls
 Lisp | lisp cl clisp l mud el scm ss lsp fasl
 Lua | lua
 Make Output | 
 Makefile | make GNUmakefile makefile Makefile OCamlMakefile mak mk
 Markdown | md mdown markdown markdn
 MultiMarkdown | 
 MATLAB | matlab
 OCaml | ml mli
 OCamllex | mll
 OCamlyacc | mly
 camlp4 | 
 Objective-C++ | mm M h
 Objective-C | m h
 PHP Source | 
 PHP | php php3 php4 php5 php7 phps phpt phtml
 Pascal | pas p dpr
 Perl | pl pm pod t PL
 Python | py py3 pyw pyi pyx pyx.in pxd pxd.in pxi pxi.in rpy cpy SConstruct Sconstruct sconstruct SConscript gyp gypi Snakefile script
 Regular Expressions (Python) | 
 R Console | 
 R | R r s S Rprofile
 Rd (R Documentation) | rd
 HTML (Rails) | rails rhtml erb html.erb
 JavaScript (Rails) | js.erb
 Ruby Haml | haml sass
 Ruby on Rails | rxml builder
 SQL (Rails) | erbsql sql.erb
 Regular Expression | re
 reStructuredText | rst rest
 Ruby | rb Appfile Appraisals Berksfile Brewfile capfile cgi Cheffile config.ru Deliverfile Fastfile fcgi Gemfile gemspec Guardfile irbrc jbuilder podspec prawn rabl rake Rakefile Rantfile rbx rjs ruby.rail Scanfile simplecov Snapfile thor Thorfile Vagrantfile
 Cargo Build Results | 
 Rust | rs
 SQL | sql ddl dml
 Scala | scala sbt
 Bourne Again Shell (bash) | sh bash zsh fish .bash_aliases .bash_completions .bash_functions .bash_login .bash_logout .bash_profile .bash_variables .bashrc .profile .textmate_init
 Shell-Unix-Generic | 
 commands-builtin-shell-bash | 
 HTML (Tcl) | adp
 Tcl | tcl
 Textile | textile
 XML | xml xsd xslt tld dtml rss opml svg
 YAML | yaml yml sublime-syntax
 Handlebars | handlebars handlebars.html hbr hbrs hbs hdbs hjs mu mustache rac stache template tmpl]

## Custom theme

Use the `gen-syntax-cache` command to compile sublime text syntax definitions and textmate theme files for mdbook.

    mdbook gen-syntax-cache --dest-dir=./theme ./syntax

The `gen-syntax-cache` will process every `tmTheme` file, and generate a similarly-named file in `[dest-dir]/css/syntax`,
and will also process every `sublime-syntax` file and add it to the `syntaxes.bin` cache. When building your book,
mdBook will look in the ./theme directory for the `syntaxes.bin` cache and use it, and will also copy across the generated
CSS files.

mdBook includes, by default, the above standard syntax definitions when generating the `syntaxes.bin` cache. If you want to
override all of the syntax definitions, pass the `--no-default-syntaxes` option.

## Hiding code lines

There is a feature in mdBook that lets you hide code lines by prepending them
with a `#`.


```bash
# fn main() {
    let x = 5;
    let y = 6;

    println!("{}", x + y);
# }
```

Will render as

```rust
# fn main() {
    let x = 5;
    let y = 7;

    println!("{}", x + y);
# }
```

**At the moment, this only works for code examples that are annotated with
`rust`. Because it would collide with semantics of some programming languages.
In the future, we want to make this configurable through the `book.toml` so that
everyone can benefit from it.**


## Improve default theme

If you think the default theme doesn't look quite right for a specific language,
or could be improved, feel free to [submit a new
issue](https://github.com/rust-lang/mdBook/issues) explaining what you
have in mind and I will take a look at it.

You could also create a pull-request with the proposed improvements.

Overall the theme should be light and sober, without too many flashy colors.
